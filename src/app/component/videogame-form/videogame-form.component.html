

<mat-card>
  <mat-card-title>Video Game Form</mat-card-title>
  <mat-card-content>
    <form [formGroup]="reviewFormGroup">
      <mat-form-field>
        <input matInput placeholder="Title" formControlName="title" required>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Image URL" formControlName="imageUrl" required>
      </mat-form-field>
      <div fxLayout="row">
        <mat-form-field fxFlex="50">
          <mat-select placeholder="Publisher" formControlName="publisher" required>
            @for (publisher of publishers; track publisher) {
              <mat-option [value]="publisher">{{publisher.name}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field fxFlex="50">
          <mat-select placeholder="Developer" formControlName="developer" required>
            @for (developer of developers; track developer) {
              <mat-option [value]="developer">{{developer.name}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <mat-form-field fxFlex="50">
          <mat-select placeholder="ESRB" formControlName="esrb" required>
            @for (esrb of esrbs; track esrb) {
              <mat-option [value]="esrb">{{esrb.esrb_rating}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field fxFlex="50">
          <mat-select placeholder="License" formControlName="license" required>
            @for (license of licenses; track license) {
              <mat-option [value]="license">{{license.license}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
      <mat-form-field>
        <textarea matInput placeholder="Description" formControlName="description"></textarea>
      </mat-form-field>
      @if (reviewFormGroup.get('title')?.getError('required') || reviewFormGroup.get('imageUrl')?.getError('required') || reviewFormGroup.get('publisher')?.getError('required') || reviewFormGroup.get('developer')?.getError('required') || reviewFormGroup.get('esrb')?.getError('required') || reviewFormGroup.get('license')?.getError('required')
        || reviewFormGroup.get('imageUrl')?.getError('pattern')
        ) {
        <mat-error>Title, Publisher, Developer, ESRB, or License can't be empty and must provide valid URL</mat-error>
      }
      <button mat-raised-button color="primary" type="submit" (click)="onSubmit() " [disabled]="reviewFormGroup.invalid"
      >Submit</button>
    </form>
  </mat-card-content>
</mat-card>
